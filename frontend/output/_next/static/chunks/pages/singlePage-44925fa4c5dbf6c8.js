(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{907:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/singlePage",function(){return n(4301)}])},4301:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(4051),s=n.n(r),o=n(5893),a=n(1163),i=n(7294),c=n(6242),l=n(2023),u=n(4267),d=n(3965),h=n(3321),f=n(5861),p=n(7462),v=n(3366),m=n(67),g=n(8290),x=n(7596),w=n(6600);const b=["onChange","maxRows","minRows","style","value"];function y(e,t){return parseInt(e[t],10)||0}const j={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var A=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:s=1,style:a,value:c}=e,l=(0,v.Z)(e,b),{current:u}=i.useRef(null!=c),d=i.useRef(null),h=(0,m.Z)(t,d),f=i.useRef(null),A=i.useRef(0),[Z,C]=i.useState({}),R=i.useCallback((()=>{const t=d.current,n=(0,g.Z)(t).getComputedStyle(t);if("0px"===n.width)return;const o=f.current;o.style.width=n.width,o.value=t.value||e.placeholder||"x","\n"===o.value.slice(-1)&&(o.value+=" ");const a=n["box-sizing"],i=y(n,"padding-bottom")+y(n,"padding-top"),c=y(n,"border-bottom-width")+y(n,"border-top-width"),l=o.scrollHeight;o.value="x";const u=o.scrollHeight;let h=l;s&&(h=Math.max(Number(s)*u,h)),r&&(h=Math.min(Number(r)*u,h)),h=Math.max(h,u);const p=h+("border-box"===a?i+c:0),v=Math.abs(h-l)<=1;C((e=>A.current<20&&(p>0&&Math.abs((e.outerHeightStyle||0)-p)>1||e.overflow!==v)?(A.current+=1,{overflow:v,outerHeightStyle:p}):e))}),[r,s,e.placeholder]);i.useEffect((()=>{const e=(0,x.Z)((()=>{A.current=0,R()})),t=(0,g.Z)(d.current);let n;return t.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(e),n.observe(d.current)),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}}),[R]),(0,w.Z)((()=>{R()})),i.useEffect((()=>{A.current=0}),[c]);return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("textarea",(0,p.Z)({value:c,onChange:e=>{A.current=0,u||R(),n&&n(e)},ref:h,rows:s,style:(0,p.Z)({height:Z.outerHeightStyle,overflow:Z.overflow?"hidden":null},a)},l)),(0,o.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,p.Z)({},j,a,{padding:0})})]})})),Z=(n(5675),n(9661));var C={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},R=n(1519),H=n(9669),E=n.n(H);function S(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,s)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){S(o,r,s,a,i,"next",e)}function i(e){S(o,r,s,a,i,"throw",e)}a(void 0)}))}}function N(){var e=(0,a.useRouter)().query,t=(0,i.useState)(null),n=t[0],r=t[1],p=(0,i.useState)(null),v=p[0],m=p[1],g=(0,i.useState)(!1),x=g[0],w=g[1];(0,i.useEffect)((function(){var t=function(){var t=_(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("newsId",e.id),{headers:{Accept:"application/json"}},t.prev=3,t.next=6,E().get("http://localhost:3000/api/1",n);case 6:200===(r=t.sent).status&&m(r.data),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(3);case 12:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[x]);var b=function(){var t=_(s().mark((function t(r){var o,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),(o=new FormData).append("newsId",e.id.toString()),o.append("comment",n),v.push(n),a=o,t.prev=6,t.next=9,E().post("http://localhost:8000/comments/post",a);case 9:(i=t.sent).setHeader("Access-Control-Allow-Origin","*"),i.setHeader("Access-Control-Allow-Credentials","true"),i.setHeader("Access-Control-Allow-Methods","GET,HEAD,OPTIONS,POST,PUT"),i.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers"),201===i.status&&w(!0),t.next=19;break;case 17:t.prev=17,t.t0=t.catch(6);case 19:location.reload();case 20:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(e){return t.apply(this,arguments)}}();return console.log(e),(0,o.jsx)("div",{direction:"right",dir:"rtl",style:{width:"100%",alignItems:"center",justifyContent:"center",paddingTop:40,paddingBottom:40,paddingLeft:40,paddingRight:40,display:"flex"},children:(0,o.jsxs)(c.Z,{sx:{},children:[(0,o.jsx)(d.Z,{component:"img",image:e.image,alt:"green iguana"}),(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(f.Z,{gutterBottom:!0,variant:"h5",component:"div",children:e.title}),(0,o.jsx)(f.Z,{variant:"body2",color:"text.secondary",children:e.des})]}),(0,o.jsx)(l.Z,{children:(0,o.jsxs)("form",{onSubmit:b,children:[(0,o.jsx)(A,{"aria-label":"\u062a\u0639\u0644\u064a\u0642",placeholder:"\u0627\u0643\u062a\u0628 \u062a\u0639\u0644\u064a\u0642 ",type:"text",name:"comment",value:n,onChange:function(e){return r(e.target.value)},required:!0,style:{width:200}}),(0,o.jsx)(h.Z,{type:"submit",size:"small",children:"\u0646\u0634\u0631"})]})}),null!==v&&void 0!==v&&v.length>0&&v.map((function(e){return(0,o.jsxs)("div",{style:{padding:10},children:[(0,o.jsxs)("div",{style:{paddingRight:10,paddingLeft:10,placeItems:"center",display:"flex"},children:[(0,o.jsx)(Z.Z,{sx:{bgcolor:C[400]},children:"A"}),(0,o.jsx)("div",{style:{padding:10},children:(0,o.jsx)("h5",{children:e.comment})})]}),(0,o.jsx)(R.Z,{})]},e.id)}))]})})}},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[6,774,888,179],(function(){return t=907,e(e.s=t);var t}));var t=e.O();_N_E=t}]);